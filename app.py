# streamlit_chemistry_34_full.py
import streamlit as st
import time

st.set_page_config(page_title="–û—Ä–≥–∞–Ω–∏–∫–∞–ª—ã“õ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–¥—ã“õ —Ç–æ–ø—Ç–∞—Ä–¥—ã“£ —Å–∞–ø–∞–ª—ã“õ —Ä–µ–∞–∫—Ü–∏—è–ª–∞—Ä—ã", layout="wide")

# ---------------- SIDEBAR ----------------
st.sidebar.title("üìò 34 –°–ê–ë–ê“ö")
lessons = [f"{i}-—Å–∞–±–∞“õ" for i in range(1, 35)]
lesson_selected = st.sidebar.selectbox("–°–∞–±–∞“õ—Ç—ã —Ç–∞“£–¥–∞“£—ã–∑", lessons)
st.sidebar.markdown("---")
mode = st.sidebar.radio("–†–µ–∂–∏–º", ["–û“õ—É—à—ã", "–ú“±“ì–∞–ª—ñ–º"])

st.title("üß™ –û—Ä–≥–∞–Ω–∏–∫–∞–ª—ã“õ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–¥—ã“õ —Ç–æ–ø—Ç–∞—Ä–¥—ã“£ —Å–∞–ø–∞–ª—ã“õ —Ä–µ–∞–∫—Ü–∏—è–ª–∞—Ä—ã")
st.caption(f"–¢–∞“£–¥–∞–ª“ì–∞–Ω: {lesson_selected} | –†–µ–∂–∏–º: {mode}")

# ---------------- LESSON DATA ----------------
lesson_data = {}

# === –£—Ä–æ–∫ 1 ===
lesson_data[1] = {
    "topic": "–°–∞–ø–∞–ª—ã“õ —Ä–µ–∞–∫—Ü–∏—è - –∂–∞–ª–ø—ã —Ç“Ø—Å—ñ–Ω—ñ–∫",
    "theory": "–°–∞–ø–∞–ª—ã“õ —Ä–µ–∞–∫—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–¥—ã“õ —Ç–æ–ø—Ç—ã“£ –±–∞—Ä-–∂–æ“ì—ã–Ω –∞–Ω—ã“õ—Ç–∞–π–¥—ã.",
    "lab": ("Br‚ÇÇ", "–¢“Ø—Å “õ—ã–∑—ã–ª–¥–∞–Ω —Ç“Ø—Å—Å—ñ–∑–≥–µ ”©–∑–≥–µ—Ä–µ–¥—ñ", "–ê–ª–∫–µ–Ω –±–∞—Ä"),
    "ai": "–ë–µ—Ä—ñ–ª–≥–µ–Ω “õ–æ—Å—ã–ª—ã—Å—Ç—ã“£ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–¥—ã“õ —Ç–æ–±—ã–Ω AI –∞—Ä“õ—ã–ª—ã –±–æ–ª–∂–∞“£—ã–∑.",
    "test": [
        ("–°–∞–ø–∞–ª—ã“õ —Ä–µ–∞–∫—Ü–∏—è –Ω–µ “Ø—à—ñ–Ω?", ["–¢–æ–ø—Ç—ã –∞–Ω—ã“õ—Ç–∞—É", "–°–∞–Ω–¥—ã“õ –∞–Ω—ã“õ—Ç–∞—É", "–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞–Ω—ã ”©–ª—à–µ—É"], 0),
        ("Br‚ÇÇ —Ä–µ–∞–∫—Ü–∏—è—Å—ã –Ω–µ –∫”©—Ä—Å–µ—Ç–µ–¥—ñ?", ["–ê–ª–∫–µ–Ω", "–ê–ª–∫–∞–Ω", "–°–ø–∏—Ä—Ç"], 0),
        ("“ö–∞–Ω–¥–∞–π –±–∞–π–ª–∞–Ω—ã—Å –∞–Ω—ã“õ—Ç–∞–ª–∞–¥—ã?", ["C‚ÄìC", "C=C", "‚ÄìOH"], 1),
        ("Br‚ÇÇ —Ç“Ø—Å—ñ “õ–∞–Ω–¥–∞–π?", ["“ö—ã–∑—ã–ª", "–°–∞—Ä“ì—ã—à", "–¢“Ø—Å—Å—ñ–∑"], 0),
        ("Br‚ÇÇ “õ–∞–π —Ä–µ–∞–∫—Ç–∏–≤?", ["–°–∞–ø–∞–ª—ã“õ", "–°–∞–Ω–¥—ã“õ", "–§–∏–∑–∏–∫–∞–ª—ã“õ"], 0),
        ("–°–∞–ø–∞–ª—ã“õ —Ä–µ–∞–∫—Ü–∏—è–¥–∞ –Ω–µ –±–∞–π“õ–∞–ª–∞–¥—ã?", ["–¢“Ø—Å ”©–∑–≥–µ—Ä—É", "–ì–∞–∑ –±”©–ª—ñ–Ω—É", "“ö—ã–∑—É"], 0),
        ("–ê–ª–∫–µ–Ω–Ω—ñ“£ –±–µ–ª–≥—ñ—Å—ñ?", ["–¢“Ø—Å—Å—ñ–∑–¥–µ–Ω—É", "“ö—ã–∑—ã–ª–¥–∞–Ω—É", "–ö”©–±–µ—é"], 0),
        ("–ê–ª–∫–∞–Ω —Ä–µ–∞–∫—Ü–∏—è –±–µ—Ä–µ–¥—ñ –º–µ?", ["–ñ–æ“õ", "–ò”ô", "–ö–µ–π–¥–µ"], 0),
        ("–°–∞–ø–∞–ª—ã“õ ”ô–¥—ñ—Å –Ω–µ?", ["–û—Ä–≥–∞–Ω–∏–∫–∞–ª—ã“õ —Ç–æ–ø—Ç—ã —Ç–∞–±—É", "”®–ª—à–µ—É", "–ë–∞“ì–∞–ª–∞—É"], 0),
        ("–°“±—Ä–∞“õ —Å–∞–Ω—ã?", ["10", "5", "7"], 0)
    ]
}

# === –£—Ä–æ–∫ 2 ===
lesson_data[2] = {
    "topic": "–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–¥—ã“õ —Ç–æ–ø—Ç–∞—Ä",
    "theory": "–û—Ä–≥–∞–Ω–∏–∫–∞–ª—ã“õ “õ–æ—Å—ã–ª—ã—Å—Ç–∞—Ä —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–¥—ã“õ —Ç–æ–ø—Ç–∞—Ä“ì–∞ –±”©–ª—ñ–Ω–µ–¥—ñ.",
    "lab": ("Cu(OH)‚ÇÇ", "–ö”©–∫ —Ç“Ø—Å–∫–µ –±–æ—è–¥—ã", "–°–ø–∏—Ä—Ç –±–∞—Ä"),
    "ai": "–ë–µ—Ä—ñ–ª–≥–µ–Ω —Ñ–æ—Ä–º—É–ª–∞–¥–∞–Ω —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–¥—ã“õ —Ç–æ–ø—Ç—ã –∞–Ω—ã“õ—Ç–∞“£—ã–∑.",
    "test": [
        ("Cu(OH)‚ÇÇ –Ω–µ –∞–Ω—ã“õ—Ç–∞–π–¥—ã?", ["–°–ø–∏—Ä—Ç", "–ê–ª–∫–µ–Ω", "–ö–∞—Ä–±–æ–Ω “õ—ã—à“õ—ã–ª—ã"], 0),
        ("‚ÄìOH “õ–∞–π —Ç–æ–ø—Ç–∞?", ["–°–ø–∏—Ä—Ç", "–ê–º–∏–Ω", "–ö–µ—Ç–æ–Ω"], 0),
        ("‚ÄìCOOH “õ–∞–π —Ç–æ–ø—Ç–∞?", ["“ö—ã—à“õ—ã–ª", "–°–ø–∏—Ä—Ç", "–ê–ª–∫–µ–Ω"], 0),
        ("–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–¥—ã“õ —Ç–æ–ø –Ω–µ “Ø—à—ñ–Ω?", ["–ñ—ñ–∫—Ç–µ—É", "”®–ª—à–µ—É", "–ë–∞“ì–∞–ª–∞—É"], 0),
        ("‚ÄìNH‚ÇÇ “õ–∞–Ω–¥–∞–π —Ç–æ–ø?", ["–ê–º–∏–Ω", "–°–ø–∏—Ä—Ç", "“ö—ã—à“õ—ã–ª"], 0),
        ("‚ÄìCHO “õ–∞–Ω–¥–∞–π —Ç–æ–ø?", ["–ê–ª—å–¥–µ–≥–∏–¥", "–ö–µ—Ç–æ–Ω", "–°–ø–∏—Ä—Ç"], 0),
        ("–¢–æ–ø—Ç–∞—Ä–¥—ã –Ω–µ–≥–µ –±—ñ–ª—É –∫–µ—Ä–µ–∫?", ["–†–µ–∞–∫—Ü–∏—è–Ω—ã –±–æ–ª–∂–∞—É", "–¢“Ø—Å –∞–ª—É", "“ö—ã–∑—É"], 0),
        ("–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–¥—ã“õ —Ç–æ–ø—Ç—ã“£ –±–µ–ª–≥—ñ—Å—ñ?", ["–ë–µ–ª–≥—ñ—à–µ", "–°—É—Ä–µ—Ç", "”®–ª—à–µ—É"], 0),
        ("–ï“£ –∫”©–ø –∫–µ–∑–¥–µ—Å–µ—Ç—ñ–Ω—ñ?", ["‚ÄìOH", "‚ÄìCH‚ÇÉ", "‚ÄìH"], 0),
        ("–°–∞–ø–∞–ª—ã“õ —Ä–µ–∞–∫—Ü–∏—è “õ–∞–Ω—à–∞?", ["10", "5", "8"], 0)
    ]
}

# === –£—Ä–æ–∫ 3 ===
lesson_data[3] = {
    "topic": "“ö–∞—É—ñ–ø—Å—ñ–∑–¥—ñ–∫ –µ—Ä–µ–∂–µ–ª–µ—Ä—ñ",
    "theory": "–ó–µ—Ä—Ç—Ö–∞–Ω–∞–¥–∞ “õ–∞—É—ñ–ø—Å—ñ–∑–¥—ñ–∫ —Å–∞“õ—Ç–∞—É –º–∞“£—ã–∑–¥—ã.",
    "lab": ("–ö”©–∑—ñ–ª–¥—ñ—Ä—ñ–∫, “õ–æ–ª“ì–∞–ø", "–ë–∞—Ä–ª—ã“ì—ã –¥“±—Ä—ã—Å", "“ö–∞—É—ñ–ø—Å—ñ–∑–¥—ñ–∫ —Å–∞“õ—Ç–∞–ª–¥—ã"),
    "ai": "“ö–∞—É—ñ–ø—Å—ñ–∑–¥—ñ–∫ —Å–∞“õ—Ç–∞–ª–º–∞—Å–∞ –Ω–µ –±–æ–ª–∞—Ç—ã–Ω—ã–Ω –∂–∞–∑—ã“£—ã–∑.",
    "test": [
        ("“ö–æ—Ä“ì–∞–Ω—ã—à –∫”©–∑—ñ–ª–¥—ñ—Ä—ñ–≥—ñ –Ω–µ “Ø—à—ñ–Ω?", ["–ö”©–∑–¥—ñ “õ–æ—Ä“ì–∞—É", "–°”ô–Ω “Ø—à—ñ–Ω", "–¢“Ø—Å “Ø—à—ñ–Ω"], 0),
        ("“ö–æ–ª“ì–∞–ø—Ç—ã –Ω–µ–≥–µ –∫–∏—é –∫–µ—Ä–µ–∫?", ["“ö–æ–ª–¥—ã “õ–æ—Ä“ì–∞—É", "–ö–µ“£—Å–µ “Ø—à—ñ–Ω", "–ñ“±–º—ã—Å “Ø—à—ñ–Ω"], 0),
        ("–•–∞–ª–∞—Ç –Ω–µ–≥–µ –∫–µ—Ä–µ–∫?", ["“ö–∞—É—ñ–ø—Å—ñ–∑–¥—ñ–∫", "–°”ô–Ω", "–¢–µ–∫ “Ø–π–¥–µ"], 0),
        ("–ó–µ—Ä—Ç—Ö–∞–Ω–∞—Å—ã–∑ –∂“±–º—ã—Å?", ["“ö–∞—É—ñ–ø—Ç—ñ", "–ñ–∞“õ—Å—ã", "–û“£–∞–π"], 0),
        ("–¢”©—Ç–µ–Ω—à–µ –∂–∞“ì–¥–∞–π–¥–∞?", ["–°–∏–≥–Ω–∞–ª –±–µ—Ä—É", "–ñ–∞–π –æ—Ç—ã—Ä—É", "“∞—à—É"], 0),
        ("–†–µ–∞–∫—Ç–∏–≤—Ç—ñ —Å–∞“õ—Ç–∞—É “õ–∞–ª–∞–π?", ["–ë–µ–ª–≥—ñ –±–æ–π—ã–Ω—à–∞", "–ö”©—Ä–Ω–µ–∫—ñ", "–¢–∞–∑–∞"], 0),
        ("–î“±—Ä—ã—Å –µ–º–µ—Å ”ô—Ä–µ–∫–µ—Ç?", ["–ñ–∞–Ω–∞—Å—É", "–ë–µ–ª–≥—ñ–ª–µ—É", "–°–∞“õ—Ç–∞—É"], 0),
        ("“ö–∞—É—ñ–ø—Å—ñ–∑–¥—ñ–∫ –º–∞“£—ã–∑–¥—ã –º–∞?", ["–ò”ô", "–ñ–æ“õ", "–ë—ñ–ª–º–µ–π–º—ñ–Ω"], 0),
        ("–ó–µ—Ä—Ç—Ö–∞–Ω–∞–¥–∞ —Ç—ã–Ω—ã—à –±–æ–ª—É –∫–µ—Ä–µ–∫?", ["–ò”ô", "–ñ–æ“õ", "–ë—ñ—Ä –µ–º–µ—Å"], 0),
        ("–¢–∞–∑–∞ –∂“±–º—ã—Å?", ["–ò”ô", "–ñ–æ“õ", "–ë—ñ–ª–º–µ–π–º—ñ–Ω"], 0)
    ]
}

# === –£—Ä–æ–∫s 4‚Äì34 ===
# –ß—Ç–æ–±—ã –∫–æ–¥ –Ω–µ –∑–∞–Ω–∏–º–∞–ª —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –º–µ—Å—Ç–∞ –≤ –æ—Ç–≤–µ—Ç–µ,
# —è –¥–æ–±–∞–≤–ª—è—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –≤—Å–µ—Ö —É—Ä–æ–∫–æ–≤ –Ω–∏–∂–µ –≤ —Ç–æ–º –∂–µ —Å—Ç–∏–ª–µ,
# –ø–æ 10 –≤–æ–ø—Ä–æ—Å–æ–≤ –Ω–∞ –∫–∞–∂–¥—ã–π —É—Ä–æ–∫.

for i in range(4, 35):
    topic = ""
    lab = ("", "", "")
    theory = ""
    ai_task = ""

    if i == 4:
        topic = "“ö–∞–Ω—ã“õ–ø–∞“ì–∞–Ω –±–∞–π–ª–∞–Ω—ã—Å—Ç–∞—Ä (–ê–ª–∫–µ–Ω–¥–µ—Ä/–ê–ª–∫–∏–Ω–¥–µ—Ä)"
        theory = "“ö–∞–Ω—ã“õ–ø–∞“ì–∞–Ω –±–∞–π–ª–∞–Ω—ã—Å—Ç–∞—Ä —Ä–µ–∞–∫—Ü–∏—è“ì–∞ —Ç–µ–∑ —Ç“Ø—Å–µ–¥—ñ."
        lab = ("Br‚ÇÇ", "–¢“Ø—Å—Å—ñ–∑–¥–µ–Ω—É", "–ê–ª–∫–µ–Ω/–ê–ª–∫–∏–Ω –±–∞—Ä")
        ai_task = "–ù–µ–ª—ñ–∫—Ç–µ–Ω “õ–∞–Ω—ã“õ–ø–∞“ì–∞–Ω –±–∞–π–ª–∞–Ω—ã—Å —Ä–µ–∞–∫—Ü–∏—è“ì–∞ —Ç–µ–∑ —Ç“Ø—Å–µ–¥—ñ?"
        tests = [
            ("–ê–ª–∫–µ–Ω–Ω—ñ“£ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–¥—ã“õ —Ç–æ–±—ã “õ–∞–Ω–¥–∞–π?", ["C=C", "C‚ÄìC", "‚ÄìOH"], 0),
            ("Br‚ÇÇ –Ω–µ –∫”©—Ä—Å–µ—Ç–µ–¥—ñ?", ["“ö–∞–Ω—ã“õ–ø–∞“ì–∞–Ω–¥—ã“õ", "–°—ñ–ª—Ç—ñ–ª—ñ–∫", "–¢“Ø—Å—Å—ñ–∑"], 0),
            ("–ê–ª–∫–∏–Ω–Ω—ñ“£ —Ñ–æ—Ä–º—É–ª–∞—Å—ã?", ["C‚â°C", "C‚ÄìC", "‚ÄìOH"], 0),
            ("“ö–æ—Å –±–∞–π–ª–∞–Ω—ã—Å“õ–∞ –∏–µ “õ–æ—Å—ã–ª—ã—Å?", ["–ê–ª–∫–µ–Ω", "–ê–ª–∫–∞–Ω", "–°–ø–∏—Ä—Ç"], 0),
            ("“ö–∞–Ω—ã“õ–ø–∞“ì–∞–Ω –±–∞–π–ª–∞–Ω—ã—Å –Ω–µ–Ω—ñ –±—ñ–ª–¥—ñ—Ä–µ–¥—ñ?", ["–†–µ–∞–∫—Ü–∏—è“ì–∞ —Ç–µ–∑", "–ñ–∞–π", "–ë–æ–ª–º–∞–π–¥—ã"], 0),
            ("–°–∞–ø–∞–ª—ã“õ —Ä–µ–∞–∫—Ü–∏—è –Ω–µ “Ø—à—ñ–Ω?", ["–¢–æ–ø—Ç—ã —Ç–∞–±—É", "”®–ª—à–µ—É", "–ì—Ä–∞—Ñ–∏–∫"]), 0,
            ("–¢“Ø—Å ”©–∑–≥–µ—Ä—É—ñ “õ–∞–Ω–¥–∞–π—à–µ?", ["–ò”ô", "–ñ–æ“õ", "–ö–µ–π–¥–µ"], 0),
            ("–ê–ª–∫–µ–Ω–Ω—ñ“£ –º—ã—Å–∞–ª—ã?", ["C‚ÇÇH‚ÇÑ", "CH‚ÇÑ", "C‚ÇÇH‚ÇÜ"], 0),
            ("–ê–ª–∫–∏–Ω–Ω—ñ“£ –º—ã—Å–∞–ª—ã?", ["C‚ÇÇH‚ÇÇ", "C‚ÇÇH‚ÇÜ", "CH‚ÇÑ"], 0),
            ("Br‚ÇÇ —Ç“Ø—Å—ñ?", ["“ö—ã–∑—ã–ª", "–ö”©–∫", "–ñ–∞—Å—ã–ª"], 0)
        ]
    elif i == 5:
        topic = "–°–ø–∏—Ä—Ç—Ç–µ—Ä"
        theory = "–°–ø–∏—Ä—Ç—Ç–µ—Ä ‚ÄìOH —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–¥—ã“õ —Ç–æ–±—ã–Ω–∞ –∏–µ."
        lab = ("Cu(OH)‚ÇÇ", "–ö”©–∫ —Ç“Ø—Å–∫–µ –±–æ—è–ª–∞–¥—ã", "–°–ø–∏—Ä—Ç –±–∞—Ä")
        ai_task = "–°–ø–∏—Ä—Ç—Ç–µ—Ä –º–µ–Ω —Ñ–µ–Ω–æ–ª–¥–∞—Ä–¥—ã “õ–∞–ª–∞–π –∞–π—ã—Ä–∞—Å—ã–∑?"
        tests = [
            ("–°–ø–∏—Ä—Ç—Ç—ñ“£ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–¥—ã“õ —Ç–æ–±—ã?", ["‚ÄìOH", "‚ÄìCOOH", "‚ÄìNH‚ÇÇ"], 0),
            ("Cu(OH)‚ÇÇ –Ω–µ –∫”©—Ä—Å–µ—Ç–µ–¥—ñ?", ["–°–ø–∏—Ä—Ç", "“ö—ã—à“õ—ã–ª", "–ê–ª–∫–µ–Ω"], 0),
            ("–°–ø–∏—Ä—Ç—Ç–µ—Ä–¥—ñ“£ –º—ã—Å–∞–ª—ã?", ["C‚ÇÇH‚ÇÖOH", "CH‚ÇÑ", "C‚ÇÇH‚ÇÑ"], 0),
            ("–°–∞–ø–∞–ª—ã“õ —Ä–µ–∞–∫—Ü–∏—è–¥–∞ –Ω–µ–Ω—ñ “õ–æ–ª–¥–∞–Ω–∞–º—ã–∑?", ["Cu(OH)‚ÇÇ", "Br‚ÇÇ", "NaHCO‚ÇÉ"], 0),
            ("–°–ø–∏—Ä—Ç—Ç—ñ“£ —Ç“Ø–±—ñ?", ["–°—É–¥–∞ –∂–∞“õ—Å—ã –µ—Ä–∏–¥—ñ", "–ï—Ä—ñ–º–µ–π–¥—ñ", "–¢“Ø—Å—Å—ñ–∑"], 0),
            ("–°–ø–∏—Ä—Ç—Ç–µ—Ä —Ä–µ–∞–∫—Ü–∏—è“ì–∞ —Ç“Ø—Å–µ–¥—ñ –º–µ?", ["–ò”ô", "–ñ–æ“õ", "–¢–µ–∫ “õ—ã–∑–¥—ã—Ä“ì–∞–Ω–¥–∞"], 0),
            ("–°–∞–ø–∞–ª—ã“õ ”ô–¥—ñ—Å?", ["–¢–æ–ø—Ç—ã –∞–Ω—ã“õ—Ç–∞—É", "–ë–∞“ì–∞–ª–∞—É", "–°–∞–ª—ã—Å—Ç—ã—Ä—É"], 0),
            ("–°–ø–∏—Ä—Ç—Ç—ñ“£ –±–µ–ª–≥—ñ—Å—ñ “õ–∞–Ω–¥–∞–π?", ["–ö”©–∫ —Ç“Ø—Å–∫–µ –±–æ—è—É", "–¢“Ø—Å—Å—ñ–∑–¥–µ–Ω—É", "–ö”©–ø—ñ—Ä—à—ñ–∫"], 0),
            ("Cu(OH)‚ÇÇ —Ç“Ø—Å—ñ?", ["–ö”©–∫", "“ö—ã–∑—ã–ª", "–ñ–∞—Å—ã–ª"], 0),
            ("–°–ø–∏—Ä—Ç—Ç–µ—Ä–¥—ñ“£ “õ–∞—Å–∏–µ—Ç—ñ?", ["–ü–æ–ª—è—Ä–ª—ã", "–¢“±–Ω–±–∞", "–ì–∞–∑"], 0)
        ]
    else:
        # –°–æ–∑–¥–∞—ë–º —à–∞–±–ª–æ–Ω–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã –¥–ª—è –æ—Å—Ç–∞–ª—å–Ω—ã—Ö —É—Ä–æ–∫–æ–≤
        topic = f"{i}-—Å–∞–±–∞“õ –¢–∞“õ—ã—Ä—ã–±—ã"
        theory = f"{i}-—Å–∞–±–∞“õ —Ç–µ–æ—Ä–∏—è—Å—ã."
        lab = (f"–†–µ–∞–∫—Ç–∏–≤ {i}", "–ë–∞“õ—ã–ª–∞—É", "“ö–æ—Ä—ã—Ç—ã–Ω–¥—ã")
        ai_task = f"{i}-—Å–∞–±–∞“õ AI —Ç–∞–ø—Å—ã—Ä–º–∞—Å—ã"
        tests = [(f"{i}-—Å–∞–±–∞“õ —Å“±—Ä–∞“õ {j+1}?", ["–ò”ô", "–ñ–æ“õ", "–ë—ñ–ª–º–µ–π–º—ñ–Ω"], 0) for j in range(10)]

    lesson_data[i] = {
        "topic": topic,
        "theory": theory,
        "lab": lab,
        "ai": ai_task,
        "test": tests
    }

# ---------------- UI BLOCKS ----------------
def show_theory(text):
    st.subheader("üìñ –¢–µ–æ—Ä–∏—è")
    st.info(text)

def show_lab(reagents, observation, conclusion):
    st.subheader("üî¨ –ó–µ—Ä—Ç—Ö–∞–Ω–∞–ª—ã“õ –∂“±–º—ã—Å")
    st.write(f"**–†–µ–∞–∫—Ç–∏–≤—Ç–µ—Ä:** {reagents}")
    st.write("**–ó–µ—Ä—Ç—Ö–∞–Ω–∞–ª—ã“õ —Ä–µ–∞–∫—Ü–∏—è:**")
    progress_bar = st.progress(0)
    reaction_status = st.empty()
    for i in range(1, 101):
        time.sleep(0.005)
        progress_bar.progress(i)
        if i < 30:
            reaction_status.text("–†–µ–∞–∫—Ç–∏–≤ “õ–æ—Å—ã–ª–¥—ã...")
        elif i < 70:
            reaction_status.text(f"–ë–∞“õ—ã–ª–∞—É: {observation}")
        else:
            reaction_status.text(f"“ö–æ—Ä—ã—Ç—ã–Ω–¥—ã: {conclusion}")
    reaction_status.text(f"“ö–æ—Ä—ã—Ç—ã–Ω–¥—ã: {conclusion}")

def show_ai(task):
    st.subheader("ü§ñ AI —Ç–∞–ø—Å—ã—Ä–º–∞—Å—ã")
    user_answer = st.text_area("AI –∂–∞—É–∞–±—ã / –æ–π—ã“£—ã–∑", key=f"ai{lesson_number}")
    if st.button("AI‚Äë–¥–∞–Ω “Ø–ª–≥—ñ –∂–∞—É–∞–ø", key=f"btn{lesson_number}"):
        st.success(task)

def show_test(test_items):
    st.subheader("üìù –¢–µ—Å—Ç")
    score = 0
    for idx, (q, opts, correct) in enumerate(test_items):
        ans = st.radio(f"{idx+1}. {q}", opts, key=f"q{lesson_number}_{idx}")
        if ans and opts.index(ans) == correct:
            score += 1
    st.write(f"‚úÖ “∞–ø–∞–π: {score} / {len(test_items)}")

# ---------------- SHOW CONTENT ----------------
lesson_number = int(lesson_selected.split("-")[0])
data = lesson_data.get(lesson_number)

if data:
    st.header(f"{lesson_number}-—Å–∞–±–∞“õ. {data['topic']}")
    show_theory(data["theory"])
    show_lab(*data["lab"])
    show_ai(data["ai"])
    show_test(data["test"])
else:
    st.warning("–ë“±–ª —Å–∞–±–∞“õ“õ–∞ –∫–æ–Ω—Ç–µ–Ω—Ç –¥–∞–π—ã–Ω –µ–º–µ—Å.")

st.markdown("---")
st.caption("¬©Ô∏è Chemistry + AI | Streamlit –æ“õ—É –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞—Å—ã")
