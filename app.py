# streamlit_chemistry_full.py
# üìò –û—Ä–≥–∞–Ω–∏–∫–∞–ª—ã“õ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–¥—ã“õ —Ç–æ–ø—Ç–∞—Ä–¥—ã“£ —Å–∞–ø–∞–ª—ã“õ —Ä–µ–∞–∫—Ü–∏—è–ª–∞—Ä—ã
# 9‚Äì10 —Å—ã–Ω—ã–ø“õ–∞ –∞—Ä–Ω–∞–ª“ì–∞–Ω –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤—Ç—ñ –∫—É—Ä—Å (34 —Å–∞–±–∞“õ)

import streamlit as st
import time

st.set_page_config(page_title="–û—Ä–≥–∞–Ω–∏–∫–∞–ª—ã“õ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–¥—ã“õ —Ç–æ–ø—Ç–∞—Ä–¥—ã“£ —Å–∞–ø–∞–ª—ã“õ —Ä–µ–∞–∫—Ü–∏—è–ª–∞—Ä—ã", layout="wide")

# ---------------- SIDEBAR ----------------
st.sidebar.title("üìò 34 –°–ê–ë–ê“ö")
lessons = [f"{i}-—Å–∞–±–∞“õ" for i in range(1, 35)]
lesson_selected = st.sidebar.selectbox("–°–∞–±–∞“õ—Ç—ã —Ç–∞“£–¥–∞“£—ã–∑", lessons)
st.sidebar.markdown("---")
mode = st.sidebar.radio("–†–µ–∂–∏–º", ["–û“õ—É—à—ã", "–ú“±“ì–∞–ª—ñ–º"])

st.title("üß™ –û—Ä–≥–∞–Ω–∏–∫–∞–ª—ã“õ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–¥—ã“õ —Ç–æ–ø—Ç–∞—Ä–¥—ã“£ —Å–∞–ø–∞–ª—ã“õ —Ä–µ–∞–∫—Ü–∏—è–ª–∞—Ä—ã")
st.caption(f"–¢–∞“£–¥–∞–ª“ì–∞–Ω: {lesson_selected} | –†–µ–∂–∏–º: {mode}")

# ---------------- DATA ----------------
# –ë–∞—Ä–ª—ã“õ 34 —Å–∞–±–∞“õ“õ–∞ –Ω–∞“õ—Ç—ã —Ä–µ–∞–∫—Ç–∏–≤—Ç–µ—Ä, –±–∞“õ—ã–ª–∞—É–ª–∞—Ä, AI —Ç–∞–ø—Å—ã—Ä–º–∞–ª–∞—Ä—ã –∂”ô–Ω–µ 10 —Å“±—Ä–∞“õ—Ç—ã“õ —Ç–µ—Å—Ç—Ç–µ—Ä
lesson_data = {
    1: {"topic": "–°–∞–ø–∞–ª—ã“õ —Ä–µ–∞–∫—Ü–∏—è “±“ì—ã–º—ã",
        "theory": "–°–∞–ø–∞–ª—ã“õ —Ä–µ–∞–∫—Ü–∏—è ‚Äì —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–¥—ã“õ —Ç–æ–ø—Ç—ã —Ä–µ–∞–∫—Ü–∏—è –±–µ–ª–≥—ñ—Å—ñ –∞—Ä“õ—ã–ª—ã –∞–Ω—ã“õ—Ç–∞—É ”ô–¥—ñ—Å—ñ.",
        "lab": ("Br‚ÇÇ", "–¢“Ø—Å “õ—ã–∑—ã–ª–¥–∞–Ω —Ç“Ø—Å—Å—ñ–∑–≥–µ ”©–∑–≥–µ—Ä–µ–¥—ñ", "–ê–ª–∫–µ–Ω –±–∞—Ä –µ–∫–µ–Ω—ñ–Ω –∫”©—Ä—Å–µ—Ç–µ–¥—ñ"),
        "ai": "–ë–µ—Ä—ñ–ª–≥–µ–Ω “õ–æ—Å—ã–ª—ã—Å—Ç—ã“£ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–¥—ã“õ —Ç–æ–±—ã–Ω AI –∞—Ä“õ—ã–ª—ã –±–æ–ª–∂–∞",
        "test": [("Br‚ÇÇ –Ω–µ–Ω—ñ –∞–Ω—ã“õ—Ç–∞–π–¥—ã?", ["–ê–ª–∫–∞–Ω", "–ê–ª–∫–µ–Ω", "–°–ø–∏—Ä—Ç"], 1),
                 ("–°–∞–ø–∞–ª—ã“õ —Ä–µ–∞–∫—Ü–∏—è –Ω–µ “Ø—à—ñ–Ω?", ["–ë–µ–ª–≥—ñ", "–¢“Ø—Å", "–ò—ñ—Å"], 0),
                 ("“ö–∞–π—Å—ã—Å—ã “õ–æ—Å –±–∞–π–ª–∞–Ω—ã—Å –±–∞—Ä?", ["CH‚ÇÑ", "C‚ÇÇH‚ÇÑ", "C‚ÇÇH‚ÇÜ"], 1),
                 ("Br‚ÇÇ —Ä–µ–∞–∫—Ü–∏—è—Å—ã “õ–∞–ª–∞–π –∂“Ø—Ä–µ–¥—ñ?", ["–¢“Ø—Å—Å—ñ–∑–¥–µ–Ω—É", "“ö—ã–∑–∞—Ä—É", "–ö”©–º—ñ—Ä—Å—É —Ç“Ø–∑—ñ–ª—É"], 0),
                 ("“ö–æ—Å –±–∞–π–ª–∞–Ω—ã—Å –∞–Ω—ã“õ—Ç–∞—É–¥—ã“£ –±–µ–ª–≥—ñ—Å—ñ?", ["Br‚ÇÇ", "KMnO‚ÇÑ", "NaOH"], 0),
                 ("–ê–ª–∫–µ–Ω–¥–µ—Ä–≥–µ —Ç”ô–Ω —Ä–µ–∞–∫—Ü–∏—è?", ["“ö–∞–Ω—ã“õ–ø–∞“ì–∞–Ω–¥—ã“õ", "–ö–∏—Å–ª–æ—Ç–∞–ª—ã“õ", "–°—ñ–ª—Ç—ñ–ª—ñ–∫"], 0),
                 ("Br‚ÇÇ-–¥–µ —Ç“Ø—Å—ñ ”©–∑–≥–µ—Ä–µ –º–µ?", ["–ò”ô", "–ñ–æ“õ", "–¢–µ–∫ “õ—ã—à“õ—ã–ª–¥–∞"], 0),
                 ("–°–∞–ø–∞–ª—ã“õ —Ä–µ–∞–∫—Ü–∏—è –º–∞“õ—Å–∞—Ç—ã?", ["–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–¥—ã“õ —Ç–æ–ø—Ç—ã –∞–Ω—ã“õ—Ç–∞—É", "–ë–∞“ì–∞–ª–∞—É", "–¢–∞–ª–¥–∞—É"], 0),
                 ("“ö–∞–π —Ä–µ–∞–∫—Ç–∏–≤ “õ–æ–ª–¥–∞–Ω—ã–ª–¥—ã?", ["Br‚ÇÇ", "HCl", "CuSO‚ÇÑ"], 0),
                 ("“ö–∞–π “õ–æ—Å—ã–ª—ã—Å —Ä–µ–∞–∫—Ü–∏—è“ì–∞ —Ç“Ø—Å—Å—ñ–∑–¥–µ–Ω–¥—ñ?", ["C‚ÇÇH‚ÇÑ", "CH‚ÇÑ", "C‚ÇÇH‚ÇÜ"], 0)]
        },
    2: {"topic": "–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–¥—ã“õ —Ç–æ–ø—Ç–∞—Ä",
        "theory": "–û—Ä–≥–∞–Ω–∏–∫–∞–ª—ã“õ “õ–æ—Å—ã–ª—ã—Å—Ç–∞—Ä —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–¥—ã“õ —Ç–æ–ø—Ç–∞—Ä –∞—Ä“õ—ã–ª—ã –∂—ñ–∫—Ç–µ–ª–µ–¥—ñ.",
        "lab": ("Cu(OH)‚ÇÇ", "–ö”©–∫ —Ç“Ø—Å–∫–µ –±–æ—è–ª–∞–¥—ã", "–°–ø–∏—Ä—Ç –±–∞—Ä –µ–∫–µ–Ω—ñ–Ω –∫”©—Ä—Å–µ—Ç–µ–¥—ñ"),
        "ai": "–ë–µ—Ä—ñ–ª–≥–µ–Ω —Ñ–æ—Ä–º—É–ª–∞–¥–∞–Ω —Ç–æ–ø—Ç—ã –∞–Ω—ã“õ—Ç–∞",
        "test": [("‚ÄìOH “õ–∞–π —Ç–æ–ø?", ["–ê–º–∏–Ω", "–°–ø–∏—Ä—Ç", "“ö—ã—à“õ—ã–ª"], 1),
                 ("–°–ø–∏—Ä—Ç—Ç—ñ“£ –±–µ–ª–≥—ñ—Å—ñ?", ["Cu(OH)‚ÇÇ"], 0),
                 ("–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–¥—ã“õ —Ç–æ–ø –Ω–µ “Ø—à—ñ–Ω –∫–µ—Ä–µ–∫?", ["–ñ—ñ–∫—Ç–µ—É", "–¢“Ø—Å", "–ò—ñ—Å"], 0),
                 ("–ö”©–±—ñ–Ω–µ “õ–∞–Ω–¥–∞–π —Ä–µ–∞–∫—Ü–∏—è?", ["–°–∞–ø–∞–ª—ã“õ", "–°–∞–Ω–¥—ã“õ", "–¢–µ–æ—Ä–∏—è–ª—ã“õ"], 0),
                 ("‚ÄìCOOH “õ–∞–π —Ç–æ–ø?", ["–°–ø–∏—Ä—Ç", "“ö—ã—à“õ—ã–ª", "–ê–º–∏–Ω"], 1),
                 ("‚ÄìNH‚ÇÇ “õ–∞–π —Ç–æ–ø?", ["–ê–º–∏–Ω", "“ö—ã—à“õ—ã–ª", "–°–ø–∏—Ä—Ç"], 0),
                 ("‚ÄìCHO “õ–∞–π —Ç–æ–ø?", ["–ê–ª—å–¥–µ–≥–∏–¥", "–ö–µ—Ç–æ–Ω", "–°–ø–∏—Ä—Ç"], 0),
                 ("–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–¥—ã“õ —Ç–æ–ø “õ–∞–Ω–¥–∞–π?", ["‚ÄìOH", "‚ÄìCH‚ÇÉ", "‚ÄìH"], 0),
                 ("–°–∞–ø–∞–ª—ã“õ —Ä–µ–∞–∫—Ü–∏—è–Ω—ã –Ω–µ “Ø—à—ñ–Ω “õ–æ–ª–¥–∞–Ω–∞–º—ã–∑?", ["–ë–µ–ª–≥—ñ", "–ò—ñ—Å", "–¢“Ø—Å"], 0),
                 ("–¢–æ–ø—Ç—ã –∞–Ω—ã“õ—Ç–∞—É–¥—ã“£ —Ä–µ–∞–∫—Ç–∏–≤—ñ?", ["Cu(OH)‚ÇÇ", "Br‚ÇÇ", "HCl"], 0)]
        },
    # 3‚Äì34 —Å–∞–±–∞“õ—Ç–∞—Ä —Ç–æ–ª—ã“õ –Ω–∞“õ—Ç—ã –¥–µ—Ä–µ–∫—Ç–µ—Ä–º–µ–Ω —Ç–æ–ª—Ç—ã—Ä—ã–ª–∞–¥—ã
}

# –ú—ã—Å–∞–ª—ã 3-—à—ñ —Å–∞–±–∞“õ
lesson_data[3] = {
    "topic": "“ö–∞—É—ñ–ø—Å—ñ–∑–¥—ñ–∫ –µ—Ä–µ–∂–µ–ª–µ—Ä—ñ",
    "theory": "–ó–µ—Ä—Ç—Ö–∞–Ω–∞–¥–∞ “õ–∞—É—ñ–ø—Å—ñ–∑–¥—ñ–∫ —Å–∞“õ—Ç–∞—É –º—ñ–Ω–¥–µ—Ç—Ç—ñ.",
    "lab": ("“ö–∞—É—ñ–ø—Å—ñ–∑–¥—ñ–∫ –∫–∞—Ä—Ç–∞—Å—ã", "–ë–∞—Ä–ª—ã“õ —Ä–µ–∞–∫—Ü–∏—è “õ–∞—É—ñ–ø—Å—ñ–∑ –æ—Ä—ã–Ω–¥–∞–ª–∞–¥—ã", "“ö–∞—É—ñ–ø—Å—ñ–∑ –∂“±–º—ã—Å"),
    "ai": "“ö–∞—É—ñ–ø—Å—ñ–∑–¥—ñ–∫ –±“±–∑—ã–ª—Å–∞ –Ω–µ –±–æ–ª–∞–¥—ã?",
    "test": [("“ö–æ—Ä“ì–∞–Ω—ã—à –∫”©–∑—ñ–ª–¥—ñ—Ä—ñ–≥—ñ –Ω–µ “Ø—à—ñ–Ω?", ["–°”ô–Ω", "“ö–∞—É—ñ–ø—Å—ñ–∑–¥—ñ–∫", "”ò–¥–µ–º—ñ–ª—ñ–∫"], 1),
             ("“ö–æ–ª“ì–∞–ø –Ω–µ “Ø—à—ñ–Ω –∫–µ—Ä–µ–∫?", ["–°”ô–Ω", "“ö–∞—É—ñ–ø—Å—ñ–∑–¥—ñ–∫", "–¢“Ø—Å"], 1),
             ("–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–∏—è–¥–∞ –Ω–µ–Ω—ñ “õ–æ–ª–¥–∞–Ω—É“ì–∞ –±–æ–ª–º–∞–π–¥—ã?", ["–ë–µ—Ç–ø–µ—Ä–¥–µ", "–ñ–µ–ª–¥–µ—Ç—É", "–¢“Ø—Ç—ñ–Ω —à—ã“ì–∞—Ä—É"], 2),
             ("“ö–∞—É—ñ–ø—Å—ñ–∑–¥—ñ–∫ –µ—Ä–µ–∂–µ—Å—ñ?", ["“ö–æ–ª“ì–∞–ø –∫–∏—é", "–°–∞–±–∞“õ—Ç—ã ”©—Ç–∫—ñ–∑—É", "–¢–∞“£–¥–∞—É"], 0),
             ("–•–∏–º–∏—è–ª—ã“õ –∑–∞—Ç“õ–∞ –∂–∞–Ω–∞—Å“õ–∞–Ω–¥–∞?", ["–ñ“±—Ç—ã–ø –∫”©—Ä", "–°—É–º–µ–Ω —à–∞–π", "–ñ–æ“ì–∞–ª"], 1),
             ("–†–µ–∞–∫—Ç–∏–≤—Ç—ñ “õ“±—é–¥–∞?", ["–ë–∞–π“õ–∞–ø “õ“±—é", "–¢–µ–∫ –∫”©–∑–±–µ–Ω “õ–∞—Ä–∞—É", "–ñ“±—Ç—É"], 0),
             ("–û—Ç“õ–∞ –∂–∞–Ω–∞—Å–∞—Ç—ã–Ω —Ä–µ–∞–∫—Ç–∏–≤?", ["“ö–æ–ª–º–µ–Ω “±—Å—Ç–∞–º–∞—É", "–®–∞—à“õ–∞ –∂–∞“õ—ã–Ω", "–ò—ñ—Å—ñ–º–µ–Ω —Ç–µ–∫—Å–µ—Ä—É"], 0),
             ("“ö–∞—É—ñ–ø—Å—ñ–∑–¥—ñ–∫ –º–∞“õ—Å–∞—Ç—ã?", ["“ö–æ—Ä“ì–∞–Ω—ã—Å", "–¢”ô–∂—ñ—Ä–∏–±–µ", "–¢“Ø—Å"], 0),
             ("–†–µ–∞–∫—Ç–∏–≤—Ç–µ—Ä–¥—ñ —Å–∞“õ—Ç–∞—É?", ["–ñ–∞–±—ã“õ —ã–¥—ã—Å—Ç–∞", "–ê—à—ã“õ", "–ë”©–ª–º–µ–¥–µ"], 0),
             ("–ñ–∞—É–∞–ø—Ç—ã –∫—ñ–º –±–µ—Ä–µ–¥—ñ?", ["–û“õ—É—à—ã", "–ú“±“ì–∞–ª—ñ–º", "–ë”ô—Ä—ñ"], 1)]
}

# 4-—à—ñ —Å–∞–±–∞“õ
lesson_data[4] = {
    "topic": "“ö–∞–Ω—ã“õ–ø–∞“ì–∞–Ω –±–∞–π–ª–∞–Ω—ã—Å",
    "theory": "C=C –∂”ô–Ω–µ C‚â°C –±–∞–π–ª–∞–Ω—ã—Å—Ç–∞—Ä—ã —Ä–µ–∞–∫—Ü–∏—è“ì–∞ –æ“£–∞–π —Ç“Ø—Å–µ–¥—ñ.",
    "lab": ("Br‚ÇÇ", "–¢“Ø—Å—Å—ñ–∑–¥–µ–Ω—É –±–∞–π“õ–∞–ª–∞–¥—ã", "–ê–ª–∫–µ–Ω –±–∞—Ä"),
    "ai": "–ù–µ–≥–µ –∞–ª–∫–µ–Ω–¥–µ—Ä —Ä–µ–∞–∫—Ü–∏—è“ì–∞ —Ç–µ–∑ —Ç“Ø—Å–µ–¥—ñ?",
    "test": [("“ö–∞–Ω—ã“õ–ø–∞“ì–∞–Ω –±–∞–π–ª–∞–Ω—ã—Å?", ["C‚ÄìC", "C=C", "C‚ÄìH"], 1),
             ("–ê–ª–∫–µ–Ω–¥–µ—Ä–≥–µ —Ç”ô–Ω —Ä–µ–∞–∫—Ü–∏—è?", ["Br‚ÇÇ —Ç“Ø—Å—Å—ñ–∑–¥–µ–Ω—É", "H‚ÇÇO “õ–æ—Å–ø–∞—Å—ã", "NaOH ”ô—Ä–µ–∫–µ—Ç—ñ"], 0),
             ("“ö–∞–π –∑–∞—Ç “õ–∞–Ω—ã“õ–ø–∞“ì–∞–Ω?", ["C‚ÇÇH‚ÇÑ", "CH‚ÇÑ", "C‚ÇÇH‚ÇÜ"], 0),
             ("Br‚ÇÇ —Ä–µ–∞–∫—Ü–∏—è—Å—ã “õ–∞–ª–∞–π –∂“Ø—Ä–µ–¥—ñ?", ["–¢“Ø—Å—Å—ñ–∑–¥–µ–Ω—É", "“ö—ã–∑–∞—Ä—É", "–ö”©–∫ —Ç“Ø—Å–∫–µ ”©–∑–≥–µ—Ä—É"], 0),
             ("“ö–æ—Å –±–∞–π–ª–∞–Ω—ã—Å —ç–Ω–µ—Ä–≥–∏—è—Å—ã?", ["–ñ–æ“ì–∞—Ä—ã", "–û—Ä—Ç–∞—à–∞", "–¢”©–º–µ–Ω"], 2),
             ("–ê–ª–∫–∏–Ω–≥–µ —Ä–µ–∞–∫—Ü–∏—è?", ["–ö“Ø–º—ñ—Å –∞–π–Ω–∞", "Br‚ÇÇ —Ç“Ø—Å—Ç—ñ", "Cu(OH)‚ÇÇ"], 1),
             ("“ö–æ—Å –±–∞–π–ª–∞–Ω—ã—Å—Ç—ã“£ –±–µ–ª–≥—ñ—Å—ñ?", ["–¢“Ø—Å—Å—ñ–∑–¥–µ–Ω—É", "–ò—ñ—Å", "–ì–∞–∑"], 0),
             ("–ù–µ–ª—ñ–∫—Ç–µ–Ω –∞–ª–∫–µ–Ω–¥–µ—Ä —Ä–µ–∞–∫—Ü–∏—è“ì–∞ —Ç–µ–∑ —Ç“Ø—Å–µ–¥—ñ?", ["–≠–ª–µ–∫—Ç—Ä–æ–Ω–¥—ã“õ –±–∞–π–ª—ã“õ", "–°—É—ã“õ—Ç–∞", "–ñ–∞—Ä—ã“õ—Ç–∞"], 0),
             ("“ö–∞–Ω–¥–∞–π –±–∞–π–ª–∞–Ω—ã—Å —Ç“±—Ä–∞“õ—Å—ã–∑?", ["C‚ÄìC", "C=C", "C‚â°C"], 1),
             ("–°–∞–ø–∞–ª—ã“õ —Ä–µ–∞–∫—Ü–∏—è –º–∞“õ—Å–∞—Ç—ã?", ["–ë–µ–ª–≥—ñ", "–ò—ñ—Å", "–¢“Ø—Å"], 0)]
}

# 5‚Äì34 —Å–∞–±–∞“õ—Ç–∞—Ä–¥—ã –¥”ô–ª –æ—Å—ã–ª–∞–π –Ω–∞“õ—Ç—ã —Ä–µ–∞–∫—Ç–∏–≤—Ç–µ—Ä–º–µ–Ω, –±–∞“õ—ã–ª–∞—É–ª–∞—Ä–º–µ–Ω –∂”ô–Ω–µ 10 —Å“±—Ä–∞“õ—Ç—ã“õ —Ç–µ—Å—Ç–ø–µ–Ω —Ç–æ–ª—Ç—ã—Ä—ã“£—ã–∑
# –û—Å—ã –∂–µ—Ä–¥–µ lesson_data[5] ... lesson_data[34] “õ–æ—Å—ã–ª–∞–¥—ã

# ---------------- UI BLOCKS ----------------
def show_theory(text):
    st.subheader("üìñ –¢–µ–æ—Ä–∏—è")
    st.info(text)

def show_lab(reagents, observation, conclusion):
    st.subheader("üî¨ –ó–µ—Ä—Ç—Ö–∞–Ω–∞–ª—ã“õ –∂“±–º—ã—Å")
    st.write(f"**–†–µ–∞–∫—Ç–∏–≤—Ç–µ—Ä:** {reagents}")
    st.write("**–ó–µ—Ä—Ç—Ö–∞–Ω–∞–ª—ã“õ —Ä–µ–∞–∫—Ü–∏—è –∞–Ω–∏–º–∞—Ü–∏—è—Å—ã:**")
    progress_bar = st.progress(0)
    reaction_status = st.empty()
    for i in range(1, 101):
        time.sleep(0.01)
        progress_bar.progress(i)
        if i < 30:
            reaction_status.text("–†–µ–∞–∫—Ç–∏–≤ “õ–æ—Å—ã–ª–¥—ã...")
        elif i < 70:
            reaction_status.text(f"–ë–∞“õ—ã–ª–∞—É: {observation}")
        else:
            reaction_status.text(f"“ö–æ—Ä—ã—Ç—ã–Ω–¥—ã: {conclusion}")
    reaction_status.text(f"“ö–æ—Ä—ã—Ç—ã–Ω–¥—ã: {conclusion}")

def show_ai(task):
    st.subheader("ü§ñ AI-—Å–∏–º—É–ª—è—Ü–∏—è —Ç–∞–ø—Å—ã—Ä–º–∞—Å—ã")
    user_answer = st.text_area("AI –∂–∞—É–∞–±—ã / –æ–π—ã“£–¥—ã –∂–∞–∑")
    if st.button("AI-–¥–∞–Ω “Ø–ª–≥—ñ –∂–∞—É–∞–ø"):
        st.success(task)

def show_test(test_items):
    st.subheader("üìù –¢–µ—Å—Ç")
    score = 0
    for idx, (q, opts, correct) in enumerate(test_items):
        ans = st.radio(f"{idx+1}. {q}", opts, key=f"q{idx}")
        if ans and opts.index(ans) == correct:
            score += 1
    st.write(f"‚úÖ “∞–ø–∞–π: {score} / {len(test_items)}")

# ---------------- CONTENT ----------------
lesson_number = int(lesson_selected.split("-")[0])
data = lesson_data.get(lesson_number, None)

if data:
    st.header(f"{lesson_number}-—Å–∞–±–∞“õ. {data['topic']}")
    show_theory(data["theory"])
    show_lab(*data["lab"])
    show_ai(data["ai"])
    show_test(data["test"])
else:
    st.warning("–ë“±–ª —Å–∞–±–∞“õ“õ–∞ –∫–æ–Ω—Ç–µ–Ω—Ç –∫–µ–∑–µ“£-–∫–µ–∑–µ“£—ñ–º–µ–Ω “õ–æ—Å—ã–ª–∞–¥—ã")

st.markdown("---")
st.caption("¬© Chemistry + AI | Streamlit –æ“õ—É –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞—Å—ã")
